<ui:composition template="/jsf/header.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:ui="http://java.sun.com/jsf/facelets">

    <ui:define name="Titre">
        Liste personnel
    </ui:define>
    <ui:define name="Page">
        Liste du personnel
    </ui:define>
    <ui:define name="Page1">
        Liste personnel
    </ui:define>
    

    <ui:define name="body">

        <section class="panel  panel-featured panel-featured-primary">
                        <header class="panel-heading">
                            <div class="panel-actions">
                                <a href="#" class="fa fa-caret-down"></a>

                            </div>

                            <h2 class="panel-title">Liste du personnel</h2>
                        </header>
                        <div class="panel-body">
                            
                               
                            <h:form>
                                <div class="row">
                                <div class="col-sm-6">
                                    <div class="mb-md">
                                        <h:commandLink type="button"  class="btn btn-primary" 
                                                       value="Ajouter"
                                            action="#{personnelController.linkCreate}" >
                                            <i class="fa fa-plus"></i> 
                                        </h:commandLink>
                                    </div>
                                </div>
                            </div>
                            <h:dataTable value="#{personnelController.items}"  class="table table-bordered table-striped mb-none"  var="item" >
                         <f:passThroughAttribute name="id" value="datatable-default" />
                        <h:column>
                            <f:facet name="header">
                                <h:outputText value="Matricule"/>
                            </f:facet>
                            <h:outputText value="#{item.matricule}"/>
                        </h:column>
                        <h:column>
                            <f:facet name="header">
                                <h:outputText value="Nom"/>
                            </f:facet>
                            <h:outputText value="#{item.nom}"/>
                        </h:column>
                        <h:column>
                            <f:facet name="header">
                                <h:outputText value="Prénom"/>
                            </f:facet>
                            <h:outputText value="#{item.prenom}"/>
                        </h:column>
                        <h:column>
                            <f:facet name="header">
                                <h:outputText value="Sexe"/>
                            </f:facet>
                            <h:outputText value="Masculin" rendered="#{item.sexe==1}"/>
                            <h:outputText value="Féminin" rendered="#{item.sexe==2}"/>
                        </h:column>
                        <h:column>
                            <f:facet name="header">
                                <h:outputText value="N° CIN"/>
                            </f:facet>
                            <h:outputText value="#{item.cin}"/>
                        </h:column>
                        
                        <h:column>
                            <f:facet name="header">
                                <h:outputText value="Résidence"/>
                            </f:facet>
                            <h:outputText value="#{item.residence}"/>
                        </h:column>
                        <h:column>
                            <f:facet name="header">
                                <h:outputText value="Grade"/>
                            </f:facet>
                            <h:outputText value="#{item.grade}"/>
                        </h:column>
                         <h:column>
                            <f:facet name="header">
                                <h:outputText value="Echelle"/>
                            </f:facet>
                            <h:outputText value="#{item.echelle}"/>
                        </h:column>
                         
                        <h:column>
                            <f:passThroughAttribute name="class" value="actions" />

                            <f:facet name="header">
                                <h:outputText value="Actions"/>
                            </f:facet>
                            <b> </b>
                            <h:commandLink  class="on-default edit-row" 
                                    action="#{personnelController.prepareEdit}" >
                                    <i class="fa fa-pencil"></i> 
                            </h:commandLink> <b> </b>
                            <h:commandLink type="button" class="on-default remove-row" 
                                    action="#{personnelController.destroy}"
                                     onclick="if(confirm('Vous voulez vraiment supprimer cette ligne du tableau ?'))return true; else return false;">
                                    <i class="fa fa-trash-o"></i> 
                            </h:commandLink>
                            </h:column>
                    </h:dataTable>
                                </h:form> 
                        </div>
                    </section>
    </ui:define>
</ui:composition> 

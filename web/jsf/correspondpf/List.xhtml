<ui:composition template="/jsf/header.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:ui="http://java.sun.com/jsf/facelets">

    <ui:define name="Titre">
        Puissance fiscale
    </ui:define>
    <ui:define name="Page">
        Puissance fiscale
    </ui:define>
    <ui:define name="Page1">
        Paramétrage
    </ui:define>
    <ui:define name="Page2">
        Puissance fiscale
    </ui:define>

    <ui:define name="body">

        <section class="panel  panel-featured panel-featured-primary">
            <header class="panel-heading">
                <div class="panel-actions">
                    <a href="#" class="fa fa-caret-down"></a>

                </div>

                <h2 class="panel-title">Taux appliqué pour chaque puissance fiscale</h2>
            </header>
            <div class="panel-body">


                <h:form>
                    <h:dataTable value="#{correspondpfController.items}" class="table table-striped mb-none" id="datatable-editable" var="item" >

                        <h:column>
                            <f:facet name="header">
                                <h:outputText value="La puissance fiscale"/>
                            </f:facet>
                            <h:outputText value="#{item.pf}"/>
                        </h:column>
                        <h:column>
                            <f:facet name="header">
                                <h:outputText value="Taux appliqué"/>
                            </f:facet>
                            <h:outputText value="#{item.taux}"/>
                        </h:column>

                        <h:column>
                            <f:passThroughAttribute name="class" value="actions" />

                            <f:facet name="header">
                                <h:outputText value="Actions"/>
                            </f:facet>
                            <b> </b> 
                            <h:commandLink  class="on-default edit-row" 
                                            action="#{correspondpfController.prepareEdit}" >
                                <i class="fa fa-pencil"></i> 
                            </h:commandLink> <b> </b>
                            <h:commandLink type="button" class="on-default remove-row" 
                                           action="#{correspondpfController.destroy}"
                                           onclick="if (confirm('Vous voulez vraiment supprimer cette ligne du tableau ?'))
                                                                   return true;
                                                               else
                                                                   return false;">
                                <i class="fa fa-trash-o"></i> 
                            </h:commandLink>
                        </h:column>
                    </h:dataTable>
                </h:form> 
            </div>
        </section>
        <!-- end: page -->
        <h:form  class="form-horizontal">
            <section class="panel  panel-featured panel-featured-primary">
                <header class="panel-heading">
                    <div class="panel-actions">
                        <a href="#" class="fa fa-caret-down"></a>

                    </div>

                    <h2 class="panel-title">Ajouter une puissance fiscale</h2>

                </header>
                <div class="panel-body">
                    <div class="validation-message">
                        <ul></ul>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-5 control-label">La puissance fiscale: <span class="required">*</span></label>
                        <div class="col-sm-4">
                            <h:inputText class="form-control" id="echelle" value="#{correspondpfController.selected.pf}" title="" />
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-5 control-label">Taux appliqué: <span class="required">*</span></label>
                        <div class="col-sm-4">
                            <h:inputText class="form-control" id="taux15" value="#{correspondpfController.selected.taux}" title="" />
                        </div>
                    </div>


                </div>
                <footer class="panel-footer">
                    <div class="row">
                        <div class="col-sm-9 col-sm-offset-5">
                            <h:commandButton class="btn btn-primary" action="#{correspondpfController.create}" value="Ajouter" /><b> </b>
                            <h:commandButton type="reset" class="btn btn-default" action="#{correspondpfController.reinit}" value="Réinitialiser" />
                        </div>
                    </div>
                </footer>
            </section>
        </h:form>
    </ui:define>
</ui:composition> 
